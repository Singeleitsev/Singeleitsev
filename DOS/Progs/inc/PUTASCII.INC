;*****************************************************************************
;Макрос посимвольного ввода десятичного числа без последующих преобразований
;*****************************************************************************
;Вход: имя переменной, куда будет помещено ASCII-представление
;введенного числа и размерность этого числа в байтах
;Выход: значение указанной переменной в памяти
;*****************************************************************************
GetASCII MACRO _var, _len
local get1
	push	ax		;store registers
	push	bx
	push	cx
        xor     ax, ax
        mov     ah, 1h		;1h int 21h (ввод 1 символа с консоли с эхом)
        xor     bx, bx
        mov     cx, _len	;столько раз повторим цикл
get1:
        int     21h             ;получаем символ (в al)
        mov     _var[bx],al	;отправляем по адресу
        inc     bx              ;прибавляем адрес
        loop    get1
	pop	cx		;restore registers
	pop	bx
	pop	ax
        ENDM
;*****************************************************************************
;Макрос непосредственного вывода на экран числа в ASCII-представлении
;(без пробела, перехода на следующую строку и возврата каретки).
;*****************************************************************************
;Вход: имя переменной, содержащей число в ASCII-представлении, и ее размер.
;Выход: строка на экране.
;*****************************************************************************
PutASCII	MACRO _var, _len
local M1
	push	ax		;store registers
	push	dx
	push	cx
	push	si
	mov	ah, 2h		;int 21h func 2h
	xor	si, si
	mov	cx, _len
M1:
	mov	dl, _var[si]
	int	21h
	inc	si
	loop	M1
	pop	si		;restore registers
	pop	cx
	pop	dx
	pop	ax
		ENDM
;*****************************************************************************
